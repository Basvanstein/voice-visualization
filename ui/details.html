
<!-- Details -->
<style>
.details  h2 {
	margin-bottom: .5em;
	margin-top: 0px;
}
.details {
	position: relative;
}
.details table {
	margin-bottom: .5em;
	margin-top: .5em;
	border-collapse: collapse;
	margin: auto;
}
.details table td, .details table th {
	border: 1px solid var(--chrome-border);
	padding: .25em;
	text-align: center;
}

.details .view {
	display: none;
}
.details.has-selection .view {
	display: block;	
}
.details.has-selection .instructions{
	display: none;	
}
.details .hbox h2 {
	display: inline;
	margin: 0px;
}
.details .hbox {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 1em;
}
.details label {
	font-weight: bold;
}
.details .download {
}
</style>
<section class="details"> 

	<div class='instructions'>
		When you select a clip/point from the graph it will be displayed here.
	</div>
	<div class='view'>
		<div class="hbox">
			<h2 id="preview-title"></h2>
			<button class='download'>Download Clip</button>
		</div>

		<table>
			<tr>
				<th></th>
				<th>Min</th>
				<th>Mean</th>
				<th>Max</th>
				<th>St. dev.</th>
			</tr>
			<tr>
				<th>Pitch</th>
				<td id='preview-min-pitch'>--</td>
				<td id='preview-mean-pitch'>--</td>
				<td id='preview-max-pitch'>--</td>
				<td id='preview-stdev-pitch'>--</td>
			</tr>
		</table>
		<br>
		<div>
			<label for="preview-transcript">Transcript</label>:
			<span id='preview-transcript'></span>
		</div>
	</div>
</section>
<script>

globalState.render(['previewClip'], current => {
	if (current.previewClip) {
		$('.details').classList.add('has-selection');
		$('#preview-title').innerHTML = current.previewClip.title || '';
		if (current.previewClip.meanPitch) {
			$('#preview-mean-pitch').innerHTML = Math.round(current.previewClip.meanPitch) + 'Hz';
		}
		if (current.previewClip.transcript) {
			$('#preview-transcript').innerHTML = current.previewClip.transcript;
		}
	} else {
		$('.details').classList.remove('has-selection');
	}
})

</script>
